---
import BaseLayout from "../../layouts/BaseLayout.astro";
import BlogLink from "../../components/BlogLink.astro";
import { getPosts } from "../../util/notion";

const allPosts = await getPosts();
const pageTitle: string = "Blog";
---

<BaseLayout pageTitle={pageTitle} title={pageTitle}>
  <ul class="mt-10">
    {
      allPosts.map((post) => (
        <BlogLink
          url={`${post["id"]}`}
          title={post["properties"]["Title"]["title"][0]["plain_text"]}
        />
      ))
    }
  </ul>
</BaseLayout>
